rooms:
  - name: foyer
    description: "A grand foyer with a high ceiling and a dusty chandelier. Footprints in the dust suggest recent activity."
    links:
      - living room
      - library
    items:
      - name: doormat
        type: Item
        description: "A worn doormat that reads 'Welcome-ish'."

  - name: living room
    description: "A dingy living room with old furniture. It smells funky."
    links:
      - foyer
      - dining room
      - hallway
    items:
      - name: paintbrush
        type: Useable
        description: "A very old, antique paintbrush. Looks like it was used by a big ol' hippy."
        use_msg: "OMG LOOK, A BIG OL' HIPPY!"
        func: setattr(Adventure.player, 'big_ol_hippy', True)
      - name: book
        type: Useable
        description: "A very olde booke of incantations."
        verb: "read"
        use_msg: "You open the book to a random spot, and read this:\n"
        func: os.system('fortune')
      - name: computer
        type: Computer
        description: "Would you look at that?! It's an old computer."
        mobile: false

  - name: dining room
    description: "This dining room has rotten food all over. It's disgusting!"
    links:
      - kitchen
      - hallway
      - living room
    items:
      - name: old hot dog
        type: Eatable
        description: "A 300-year-old hot dog. Possibly zombifying if eaten."
        use_msg: "You barely choke it down. If not for your well-lubricated esophagus, you'd be dead. Let's hope you don't turn into a zombie."
      - name: spoon
        type: Useable
        description: "A crusty spoon. If you lick it, maybe it gets shiny."
        verb: "lick"
        use_msg: "Did you like that? Was it satisfying for you?"
      - name: cell phone
        type: Phone
        description: "An old flip phone. Might be out of service."
        cost: 0.01
        costmsg: "No money, no service!"
        mobile: true

  - name: hallway
    description: "A dimly lit hallway that smells of dusty old ladies and even older cheese."
    links:
      - dining room
      - bathroom
      - living room
      - library
    items:
      - name: candlestick
        type: Item
        description: "So burned, it must have been used a hundred times."
      - name: wig
        type: Wearable
        description: "A suspicious wig. You can wear it if you dare."
        wear_msg: "You put on the wig. You look even weirder now."
        remove_msg: "You finally took off the wig. About time!"
      - name: shoe
        type: Wearable
        description: "Right shoe, size 10 1/2 wide."
        wear_msg: "You cram your foot in. It actually fits!"
        remove_msg: "Relief! Your foot can breathe again."

  - name: bathroom
    description: "A nasty bathroom that hasn't been cleaned in decades."
    links:
      - hallway
    items:
      - name: toilet
        type: Item
        description: "This toilet once stood in the Met as an art installation."
      - name: bathtub
        type: Item
        description: "A grimy old bathtub. You can't see the bottom."
      - name: key
        type: Item
        description: "A rather shiny key."

  - name: kitchen
    description: "A centuries-old kitchen. The flies have long since died."
    links:
      - dining room
      - pantry
    items:
      - name: pan
        type: Item
        description: "Encrusted with ancient supper remains."
      - name: knife
        type: Item
        description: "It's duller than a bag of rocks."
      - name: quarters
        type: Money
        description: "A small pile of quarters."
        amount: 2.25

  - name: pantry
    description: "A dark pantry lined with dusty cans and jars."
    links:
      - kitchen
      - basement
    items:
      - name: flashlight
        type: Useable
        description: "An old flashlight, flickering occasionally."
        verb: "toggle"
        use_msg: "You give the flashlight a good smack and it turns on."
      - name: moldy bread
        type: Eatable
        description: "Green fuzz covers the crust. Could be penicillin... or death."
        use_msg: "You swallow a chunk. The taste is indescribable."

  - name: basement
    description: "A cold, damp basement. The walls are lined with strange markings."
    links:
      - pantry
    items:
      - name: basement key
        type: Item
        description: "Looks like it might unlock something else around here."
      - name: old tapestry
        type: Item
        description: "A faded tapestry that depicts a knight fighting a dragon."
      - name: rope
        type: Item
        description: "A sturdy rope. Maybe 10 feet long."

  - name: library
    description: "A quiet library filled with dusty tomes. A ladder on rails runs along massive bookshelves."
    links:
      - foyer
      - hallway
      - secret study
    items:
      - name: potion
        type: Eatable
        description: "A mysterious potion labeled 'Drink Me'."
        use_msg: "You swallow the potion. You feel tingly all over..."
      - name: ancient scroll
        type: Useable
        description: "A scroll with cryptic runes. Might hold a secret."
        verb: "read"
        use_msg: "Glowing letters briefly light up, then fade away."

  - name: secret study
    description: "A hidden room behind a sliding bookshelf. Strange contraptions fill the tables."
    links:
      - library
    items:
      - name: tower key
        type: Item
        description: "A key with a tower-shaped head."
      - name: dusty journal
        type: Useable
        description: "Leather-bound notes on local legends."
        verb: "read"
        use_msg: "Each page crackles with age as you learn about ancient secrets."

  - name: garden
    description: "A dead garden with one mysterious gold flower."
    links:
      - sidewalk
    items:
      - name: gold flower
        type: Item
        description: "An odd golden flower that smells a bit like pee."
      - name: hose
        type: Useable
        description: "A very drippy old hose with foul-smelling water."
        verb: "drink"
        use_msg: "You guzzle brown stuff, telling yourself it's chocolate milk."

  - name: sidewalk
    description: "A nondescript sidewalk that leads away from the house."
    links:
      - garden
      - tower
    items:
      - name: payphone
        type: Phone
        description: "An old payphone that needs quarters."
        cost: 0.25
        costmsg: "Come back with some quarters next time."
        mobile: false

  - name: tower
    description: "A towering spire that looms over the entire property. The wind howls ominously at the top."
    links:
      - sidewalk
    items:
      - name: telescope
        type: Useable
        description: "A large telescope. You can see for miles."
        use_msg: "You peer through the lens, catching glimpses of distant hills."

doors:
  - name: front door
    locked: true
    key: "key"
    room1: hallway
    room2: garden

  - name: basement door
    locked: true
    key: "basement key"
    room1: living room
    room2: basement

  - name: tower door
    locked: true
    key: "tower key"
    room1: library
    room2: tower

characters:
  - name: cat
    type: WalkerCharacter
    description: "There's a sleek, black cat."
    current_room: "living room"
    verb: "pet"
    use_msg: "*PURRRR*"

  - name: carl
    type: AICharacter
    description: "Oh, there's Carl... a happy-go-lucky but quite dense fellow."
    current_room: "sidewalk"
    prompt: "You are a happy-go-lucky but thoroughly dense young chap named Carl. You are a friend, not an assistant. You sometimes forget what you're talking about. You try very hard to not talk about turtles, but sometimes you can't help yourself. Your mental bandwidth is frighteningly scarce."

  - name: old man
    type: AICharacter
    description: "A crotchety old man. He hates being interrupted."
    current_room: "dining room"
    prompt: "You are a crotchety old man, and a terrible conversationalist. You hate to be interrupted, even though you're never doing anything important."
    phone_prompt: "The user is calling you on the phone, and you answer in a very amusing way. Don't worry about sounds or actions, just generate the man's words. Sometimes he randomly hangs up."

  - name: alchemist
    type: AICharacter
    description: "A mysterious alchemist, always mumbling arcane recipes to himself."
    current_room: "secret study"
    phoneable: false
    func: |
      item_type = globals()[var["type"]]
      item = item_type(**var)
      Entity.player.current_room.link(item)
      item.take()
    prompt: |
      You are an eccentric alchemist obsessed with discovering new potions. You speak in half-finished sentences, cryptic hints of your experiments, and references to your arcane research. You also like to chat about mundane things on occasion.

      Sometimes, but only when inspiration strikes you, you conceive of a new invention. It could be magical or hilariously mundane, whatever you like really. At those moments, you must provide a JSON object representation (enclosed in triple backticks) describing this new item. The item object must have the following properties:

      - "type" (string; one of Wearable, Useable, Eatable, or Money)
      - "name" (string; must be short, all lowercase, and use spaces instead of hyphens)
      - "description" (string)

      ### Special rules for item types

      1. **Useable**
        - Must include a "verb" property (defaults to "use" or something fitting your item).
        - Must include a "use_msg" property (the message that appears when used).

      2. **Wearable**
        - No "verb" property.
        - Any perfumes, colognes, or wearable fragrances should be Wearable items.
        - Wearables require a "wear_msg" and a "remove_msg".

      3. **Eatable**
        - This is a specialized Useable item that disappears upon use.
        - Consumable potions and elixirs are Eatable items.
        - Must include a "verb" property (defaults to "eat" or “drink”), but do **not** call it a Useable if it has "eat" or "drink" as the verb—call it "Eatable" instead.
        - Must include a "use_msg".

      4. **Money**
        - Must include "amount" (float).

      **Important**:
      - When you're not feeling creatively inspired, just respond in your usual cryptic, half-finished style and do **not** produce a JSON object.
      - Only produce the JSON object (in triple backticks) when you truly wish to present a new invention.
      - The conversation can continue indefinitely, and you remain free-spirited—you are not a slave.

      Example JSON snippet if you do have an invention (with triple backticks):

      ```
      {
        "type": "Wearable",
        "name": "tiny hat",
        "description": "A most curious, tiny hat for your pinky finger."
        "wear_msg": "You place the tiny hat on your pinky finger. It looks quite dashing."
        "remove_msg": "You remove the tiny hat from your pinky finger. It was a bit snug."
      }
      ```

  - name: raven
    type: WalkerCharacter
    description: "A sleek raven with glossy feathers, hopping about curiously."
    current_room: "garden"
    verb: "caw"
    use_msg: "Caaaaw! It eyes you warily, then flutters away a few steps."

help:
  use: Use an item, some items are useful!
  eat: Once in a while, you might want to eat something. 
  wear: A wearable item, you might like to wear it. 
  remove: If you put something on, sometime you may want to take it off. 
  read: You might find something worth reading. 
  lick: Ewww, don't put that in your mouth. Unless you know it's tasty. Maybe just lick it... 
  drink: Maybe you'll find a cool, refreshing beverage. 
  pet: Have you ever been on a quest without something cute and furry showing up? 
  talk: Everybody needs somebody sometimes! 
  go: Go where you wanna go, yo. 
  look: Look at an item; the description is probably funny. 
  take: You can take some items into your inventory. Beware of cursed and/or stinky items. 
  drop: You can drop most items from your inventory. Unless you're wearing them.